# 공학용 계산기 iOS 앱 기능 명세서

## 1. 프로젝트 개요

### 1.1 프로젝트 목표

학생들이 수업 시간에 사용할 수 있는 간단하고 직관적인 공학용 계산기 iOS 앱 개발

### 1.2 타겟 사용자

-   **주요 사용자**: 학생 (중고등학생, 대학생)
-   **사용 환경**: 수업 시간
-   **사용 빈도**: 매 수업 시간마다 사용

### 1.3 핵심 가치 제안

-   간단하고 직관적인 사용자 인터페이스
-   학습에 필요한 핵심 공학 함수 제공
-   계산 히스토리를 통한 학습 보조

## 2. 기능 요구사항

### 2.1 핵심 기능

#### 2.1.1 기본 계산 기능

-   **사칙연산**: +, -, ×, ÷
-   **괄호 연산**: ( ) 를 이용한 연산 우선순위 처리
-   **소수점 연산**: 소수점 4자리까지 표시

#### 2.1.2 공학 함수

-   **삼각함수**
    -   sin, cos, tan
    -   asin (arcsin), acos (arccos), atan (arctan)
    -   각도 단위: 라디안(rad), 도(deg) 전환 가능
-   **로그함수**
    -   log (상용로그, log₁₀)
    -   ln (자연로그, logₑ)
    -   log₂ (이진로그)
-   **지수함수**
    -   eˣ (자연상수의 거듭제곱)
    -   10ˣ (10의 거듭제곱)
    -   xʸ (임의의 거듭제곱)

#### 2.1.3 수학 상수

-   **π (파이)**: 3.1416
-   **e (자연상수)**: 2.7183

#### 2.1.4 단위 변환 (부분 구현)

-   **길이 변환**: m, cm, mm, inch, ft
-   **무게 변환**: kg, g, lb, oz

### 2.2 사용자 인터페이스 기능

#### 2.2.1 화면 구성

-   **가로 모드 지원**: 더 많은 버튼과 기능에 접근 가능
-   **세로 모드**: 기본 계산 기능 중심
-   **디스플레이 영역**: 입력 수식과 결과 표시
-   **버튼 영역**: 숫자, 연산자, 함수 버튼

#### 2.2.2 버튼 디자인

-   **스타일**: Rounded Rectangle
-   **색상 구분**:
    -   숫자 버튼: 밝은 회색
    -   기본 연산자: 오렌지
    -   공학 함수: 파란색
    -   특수 기능: 진한 회색

#### 2.2.3 테마

-   **라이트 모드**: 기본 지원
-   **다크 모드**: 향후 버전에서 고려

### 2.3 히스토리 기능

#### 2.3.1 계산 히스토리

-   **저장 개수**: 최근 10개 계산 결과
-   **표시 정보**: 계산식 + 결과
-   **접근 방법**: 히스토리 버튼 또는 스와이프 제스처
-   **재사용**: 히스토리 항목 탭하여 결과값 재입력

#### 2.3.2 히스토리 관리

-   **자동 저장**: 계산 완료 시 자동으로 히스토리에 추가
-   **자동 삭제**: 10개 초과 시 가장 오래된 항목 자동 삭제
-   **수동 삭제**: 전체 히스토리 삭제 기능

### 2.4 도움말 및 학습 지원

#### 2.4.1 도움말 기능

-   **함수 설명**: 각 공학 함수의 의미와 사용법
-   **단축키 안내**: 효율적인 계산 방법
-   **예제 계산**: 일반적인 계산 예시

#### 2.4.2 팁 기능

-   **일일 팁**: 앱 실행 시 유용한 팁 표시
-   **함수 팁**: 함수 버튼 길게 누르면 설명 표시

## 3. 사용자 시나리오

### 3.1 기본 사용 시나리오

#### 시나리오 1: 기본 사칙연산

1. 사용자가 앱을 실행한다
2. 숫자 버튼을 터치하여 첫 번째 수를 입력한다
3. 연산자 버튼(+, -, ×, ÷)을 터치한다
4. 두 번째 수를 입력한다
5. = 버튼을 터치하여 결과를 확인한다

#### 시나리오 2: 삼각함수 계산

1. 각도 단위를 설정한다 (rad/deg)
2. 각도 값을 입력한다
3. 삼각함수 버튼(sin, cos, tan)을 터치한다
4. 결과를 확인한다

#### 시나리오 3: 복합 계산

1. 괄호를 사용하여 복잡한 수식을 입력한다
2. 공학 함수와 기본 연산을 조합한다
3. = 버튼으로 최종 결과를 계산한다
4. 히스토리에서 이전 계산 결과를 확인한다

### 3.2 학습 지원 시나리오

#### 시나리오 4: 도움말 활용

1. 모르는 함수 버튼을 길게 누른다
2. 함수 설명 팝업을 확인한다
3. 예제를 참고하여 계산을 수행한다

#### 시나리오 5: 히스토리 활용

1. 여러 번의 계산을 수행한다
2. 히스토리 버튼을 터치하여 이전 계산들을 확인한다
3. 특정 결과를 탭하여 재사용한다

## 4. 화면 구성

### 4.1 메인 계산기 화면

#### 4.1.1 세로 모드 (Portrait)

```
┌─────────────────────────┐
│     Display Area        │ ← 계산식과 결과 표시
│    1234.5678           │
├─────────────────────────┤
│ C   ±   %   ÷          │ ← 기능 버튼
├─────────────────────────┤
│ 7   8   9   ×          │ ← 숫자 + 연산자
│ 4   5   6   -          │
│ 1   2   3   +          │
│   0     .   =          │ ← 0은 더블 와이드
├─────────────────────────┤
│ sin cos tan π          │ ← 공학 함수
│ ln  log e   rad/deg    │
└─────────────────────────┘
```

#### 4.1.2 가로 모드 (Landscape)

```
┌─────────────────────────────────────────────┐
│           Display Area                      │
│          1234.5678                         │
├─────────────────────────────────────────────┤
│ (  )  C  ±  %  ÷  sin cos tan asin acos    │
│ 7  8  9  ×  ln log e   π   x²   √x         │
│ 4  5  6  -  eˣ 10ˣ xʸ  !   (   )          │
│ 1  2  3  +  rad/deg  ←  hist  help        │
│   0    .  =  unit                          │
└─────────────────────────────────────────────┘
```

### 4.2 히스토리 화면

```
┌─────────────────────────┐
│    계산 히스토리          │
├─────────────────────────┤
│ sin(30°) = 0.5         │
│ 2 + 3 × 4 = 14         │
│ ln(2.718) = 1.0000     │
│ √16 = 4.0000           │
│ π × 2 = 6.2832         │
│ ...                    │
├─────────────────────────┤
│ [전체 삭제]  [닫기]      │
└─────────────────────────┘
```

### 4.3 도움말 화면

```
┌─────────────────────────┐
│       함수 도움말        │
├─────────────────────────┤
│ sin(x): 사인 함수       │
│ - 각도의 사인 값을 계산   │
│ - 예: sin(30°) = 0.5    │
│                        │
│ cos(x): 코사인 함수     │
│ - 각도의 코사인 값을 계산 │
│ - 예: cos(60°) = 0.5    │
│                        │
│ [더 보기...]            │
└─────────────────────────┘
```

## 5. 데이터 모델

### 5.1 계산 히스토리 모델

```swift
struct CalculationHistory {
    let id: UUID
    let expression: String    // 계산식 (예: "2 + 3 × 4")
    let result: Double       // 결과값
    let timestamp: Date      // 계산 시간
}
```

### 5.2 설정 모델

```swift
struct CalculatorSettings {
    var angleUnit: AngleUnit = .degree  // rad 또는 deg
    var decimalPlaces: Int = 4          // 소수점 자릿수
    var isFirstLaunch: Bool = true      // 첫 실행 여부
}

enum AngleUnit {
    case radian
    case degree
}
```

## 6. 입력 및 출력 사양

### 6.1 입력 제한사항

-   **최대 입력 길이**: 15자리
-   **숫자 범위**: -999,999,999,999 ~ 999,999,999,999
-   **소수점**: 소수점 이하 최대 10자리 입력 가능

### 6.2 출력 형식

-   **정수**: 천 단위 구분자 없음 (예: 1234)
-   **소수**: 소수점 이하 4자리까지 표시 (예: 1234.5678)
-   **큰 수**: 과학적 표기법 사용하지 않음
-   **오류**: "Error" 또는 "수식 오류" 표시

### 6.3 에러 처리

-   **0으로 나누기**: "Error" 표시
-   **정의되지 않은 함수**: "Math Error" 표시
-   **범위 초과**: "Overflow" 표시
-   **잘못된 입력**: 입력 무시 또는 "Invalid" 표시

## 7. 성능 요구사항

### 7.1 응답 시간

-   **기본 연산**: 즉시 (< 0.1초)
-   **공학 함수**: < 0.2초
-   **히스토리 로딩**: < 0.3초

### 7.2 메모리 사용량

-   **앱 크기**: < 20MB
-   **런타임 메모리**: < 50MB
-   **히스토리 저장**: < 1MB

## 8. 제약사항

### 8.1 기술적 제약사항

-   **최소 iOS 버전**: 18.4
-   **지원 기기**: iPhone만 (iPad 제외)
-   **네트워크**: 오프라인 동작 (네트워크 불필요)

### 8.2 기능적 제약사항

-   **단위 변환**: 길이, 무게만 지원
-   **메모리 기능**: 지원하지 않음
-   **그래프 기능**: 지원하지 않음
-   **프로그래밍 기능**: 지원하지 않음
